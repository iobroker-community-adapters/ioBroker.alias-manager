<html>
<head>
	<!-- Adapter-Manager - Copyright (c) by Sebatian Bormann -->
	<!-- Please visit https://github.com/sbormann/ioBroker.adapter-manager for licence-agreement and further information -->

	<!-- Load ioBroker scripts and styles-->
	<link rel="stylesheet" type="text/css" href="../../css/adapter.css" />
    <link rel="stylesheet" type="text/css" href="../../lib/css/fancytree/ui.fancytree.min.css"/>
	<link rel="stylesheet" type="text/css" href="../../lib/css/materialize.css">

	<script type="text/javascript" src="../../lib/js/jquery-3.2.1.min.js"></script>
	<script type="text/javascript" src="../../socket.io/socket.io.js"></script>

	<script type="text/javascript" src="../../lib/js/materialize.js"></script>
    <script type="text/javascript" src="../../lib/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../lib/js/jquery.fancytree-all.min.js"></script>

	<script type="text/javascript" src="../../js/translate.js"></script>
    <script type="text/javascript" src="../../lib/js/selectID.js"></script>
	<script type="text/javascript" src="../../js/adapter-settings.js"></script>

	<!-- Load our own files -->

	<link rel="stylesheet" type="text/css" href="style.css" />
	<!--link rel="stylesheet" type="text/css" href="./materialize-colorpicker/css/materialize-colorpicker.min.css" />
	<script type="text/javascript" src="./materialize-colorpicker/js/materialize-colorpicker.min.js"></script-->
	<!--link rel="stylesheet" type="text/css" href="./codemirror/lib/codemirror.css" />
	<link rel="stylesheet" type="text/css" href="./codemirror/theme/material.css" />
	<script type="text/javascript" src="./codemirror/lib/codemirror.js"></script>
	<script type="text/javascript" src="./codemirror/mode/xml/xml.js"></script>
	<script type="text/javascript" src="./codemirror/mode/javascript/javascript.js"></script>
	<script type="text/javascript" src="./codemirror/mode/css/css.js"></script>
	<script type="text/javascript" src="./codemirror/mode/htmlmixed/htmlmixed.js"></script-->
	<!--script type="text/javascript" src="./jquery.ui.touch-punch.min.js"></script-->
	<script type="text/javascript" src="words.js"></script>
	<script type="text/javascript" src="index_m.js"></script>

	<style>
		.modal { max-height:85% !important; max-width:95% !important; width:80% !important; height:80% !important; overflow: visible !important;}
		.dialog-select-container {max-height: 90% !important;}
		.m .page {height: auto !important; min-height:75% !important;}
		#tableViews .dropdown-content {width: auto !important;}
		#tableDevices .dropdown-content {width: auto !important;}
		.validateOnlyError.valid { border-bottom: 1px solid #9e9e9e !important; box-shadow: none !important;}
		.inputClear, .selectClear{ display: block !important; position: absolute !important; right: 15px !important; top: 9px !important; margin: auto !important; }
		.combobox{ position: relative; }
		.comboboxDropdownTrigger{ display: block !important; position: absolute !important; right: 0px !important; top: 0px !important; margin: 0px !important; padding: 0px !important; }
		.combobox .dropdown-content { left: unset !important; width: unset !important; min-width: 100% !important;}
		.multiple-select-dropdown.dropdown-content li span, .multiple-select-dropdown.dropdown-content li span label { pointer-events: none; }
		.CodeMirror{ width: 100%; width: calc(100% - 25px); height: unset !important; position: absolute; }
		.aliasesDatapointRow { margin-bottom: 0 !important; }
	</style>
</head>
<body>
	<!-- ++++++++++ TABS ++++++++++ -->
	<div class="m adapter-container">
		<div class="row">
			<div class="col s12 m4 l2">
				<img src="alias-manager.png" class="logo">
			</div>
			<div class="col s8 m6 l4 loadingObjects">
				<p class="translate">Still loading some objects...</p>
				<div id="mainLoadingObjectsProgress" class="progress loadingObjects" style="position: absolute; bottom: -17px; left: 0px; width: 100%;"><div class="indeterminate"></div></div>
			</div>
		</div>
		
		<div class="row">
			<div class="col s12">
				<ul class="tabs hideOnLoad" id="QontrolTabs" style="display: none;">
					<li class="tab col s2"><a href="#tabMain" class="translate active">Start</a></li>
					<li class="tab col s2"><a href="#tabAliases" class="translate">Manage Aliases</a></li>
				</ul>
			</div>
		
			<!-- ++++++++++ TAB: Main ++++++++++ -->
			<div id="tabMain" class="col s12 page">
				<div class="row">
					<div class="col s12">
						<h6 class="translate sub-title">Start</h6>
					</div>
				</div>
				<div class="row showOnLoad">
					<div class="col s12">
						<p class="translate">Loading settings...</p>
						<div id="mainShowOnLoadProgress" class="progress showOnLoad" style="position: absolute; bottom: -17px; left: 0px; width: 100%; display: none;"><div class="indeterminate"></div></div>
					</div>
				</div>
				<div class="row hideOnLoad" style="display: none;">
					<div class="col s12">
						<p class="translate">
							Manage your aliases!
						</p>
					</div>
				</div>
				<div class="row loadingObjects" style="display: none;">
					<div class="col s12">
						<p class="translate">Still loading some objects in the background...</p>
						<div id="mainLoadingObjectsProgress" class="progress loadingObjects" style="position: absolute; bottom: -17px; left: 0px; width: 100%; display: none;"><div class="indeterminate"></div></div>
					</div>
				</div>
				<div class="row hideOnLoad" style="display: none;">
					<div class="col s12">
						<br>
						<p style="font-size: small;" class="translate">If you like it, please consider a donation:</p>
						<a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=LDHZMNPXKRX2N&source=url" target="_blank">
							<img src="https://www.paypalobjects.com/en_US/DK/i/btn/btn_donateCC_LG.gif" alt="Paypal"></img>
						</a>
					</div>
				</div>
				<div class="row hideOnLoad" style="display: none;">
					<div class="col s12">
						<br>
						<p style="font-size: small;">(C) Sebastian Bormann</p>
					</div>
				</div>
			</div>		

			<!-- ++++++++++ TAB: Aliases ++++++++++ -->
			<div id="tabAliases" class="col s12 page">
				<div class="row">
					<div class="col s12">
						<h6 class="translate sub-title">Aliases</h6>
					</div>
				</div>
				<div class="row">
					<div class="col s12 m12 l12">
						<a class="waves-effect waves-light btn" id="aliasesNewAlias"><i class="material-icons left">create_new_folder</i><span class="translate">New Alias</span></a>
					</div>
				</div>
				<div class="row">
					<div class="input-field col s12 m12 l12">
						<select class="disabled" id="aliasesSelectedAlias">
						</select>
						<label for="aliasesSelectedAlias" class="translate"></label>
						<span class="translate">Alias to edit</span>
						<div id="aliasesSelectedAliasProgress" class="progress" style="position: absolute; bottom: 6px; left: 0px; width: 100%; display: none;"><div class="indeterminate"></div></div>
					</div>
				</div>
				<div class="row aliasesNothingSelectedDiv" style="min-height: 500px;">
					<div class="col s12">
						<h6 class="translate sub-title">Please select an alias to edit</h6>
					</div>
				</div>
				<div class="row aliasesContentDiv" style="display:none;">
					<div class="col s12">
						<h6 class="translate sub-title">Operations</h6>
					</div>
				</div>
				<div class="row aliasesContentDiv" style="display:none;">
					<div class="col s12">
						<a class="waves-effect waves-light btn" id="aliasesCopyAlias"><i class="material-icons left">content_copy</i><span class="translate">Copy Alias</span></a>
						<a class="waves-effect waves-light btn" id="aliasesRenameAlias"><i class="material-icons left">create</i><span class="translate">Rename Alias</span></a>
						<a class="waves-effect waves-light btn red" id="aliasesDeleteAlias"><i class="material-icons left">delete</i><span class="translate">Delete Alias</span></a>
						<a class="waves-effect waves-light btn orange pulse aliasesDatapointSaveAll"><i class='material-icons left'>save</i><span class='translate'>Save all changes</span></a>
					</div>
				</div>
				<div class="row aliasesContentDiv" style="display:none;">
					<div class="col s12">
						<h6 class="translate sub-title">Selected Alias</h6>
					</div>
				</div>
				<div class="row aliasesContentDiv" style="display:none;">
					<div class="col s12">
						<ul id="aliasesAliasMainList" class="collection" style="overflow-y: auto;"></ul>
					</div>
				</div>		
				<div class="row aliasesContentDiv" style="display:none;">
					<div class="col s12">
						<h6 class="translate sub-title">Datapoints of selected Alias</h6>
					</div>
				</div>
				<div class="row aliasesContentDiv" style="display:none;">
					<div class="col s12">
						<a class="waves-effect waves-light btn" id="aliasesNewDatapoint"><i class="material-icons left">control_point</i><span class="translate">Add empty Alias-Datapoint</span></a>
						<a class="waves-effect waves-light btn" id="aliasesNewDatapointFromExisting"><i class="material-icons left">control_point_duplicate</i><span class="translate">Add Alias-Datapoint from existing Datapoint</span></a>
					</div>
				</div>
				<div class="row aliasesContentDiv" style="display:none;">
					<div class="col s12">
						<ul id="aliasesDatapointList" class="collection" style="overflow-y: auto;"></ul>
					</div>
					<a class="waves-effect waves-light btn orange pulse aliasesDatapointSaveAll"><i class='material-icons left'>save</i><span class='translate'>Save all changes</span></a>
				</div>		
			</div>
		</div>
	</div>
    <div class="m material-dialogs">
		<!-- DIALOG: SelectID -->
        <div id="dialogSelectId" class="modal modal-fixed-footer" style="z-index:20000 !important;">
            <div class="modal-content">
                <div class="row">
                    <div class="col s12 title"></div>
                </div>
                <div class="row">
                    <div class="col s12 dialog-content" style="max-height: 80%;">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <a class="modal-action modal-close waves-effect waves-green btn btn-set"><i class="large material-icons left">check</i><span class="translate">Select</span></a>
                <a class="modal-action modal-close waves-effect waves-green btn btn-close"><i class="large material-icons left ">close</i><span class="translate">Cancel</span></a>
            </div>
        </div>

		<!-- DIALOG: AliasesCopyAlias  -->
        <div id="dialogAliasesCopyAlias" class="modal modal-fixed-footer">
            <div class="modal-content">
                <div class="row">
                    <div class="col s12">
                        <h6 class="title"><span class="translate">Copy Alias:</span></h6>
                    </div>
                </div>
				<div class="row">
					<div class="col s12">
						<h6 class="translate sub-title">New ID for Alias:</h6>
					</div>
				</div>
				<div class="row">
					<div class="input-field col s12">
						<input class="value" name='dialogAliasesCopyAliasNewId' id='dialogAliasesCopyAliasNewId'></input>
						<label for='dialogAliasesCopyAliasNewId' class="translate"></label>
						<span class="translate">New ID</span>
					</div>
				</div>
				<div class="row">
					<div class="col s12">
						<h6 class="translate sub-title">New Name for Alias:</h6>
					</div>
				</div>
				<div class="row">
					<div class="input-field col s12">
						<input class="value" name='dialogAliasesCopyAliasNewName' id='dialogAliasesCopyAliasNewName'></input>
						<label for='dialogAliasesCopyAliasNewName' class="translate"></label>
						<span class="translate">New Name</span>
					</div>
				</div>
				<div class="row">
					<div class="col s12">
						<h6 class="translate sub-title">Replace Alias-Datapoints:</h6>
					</div>
				</div>
				<div class="row" style="">
					<div class="col s12">
						<a class="waves-effect waves-light btn" id="dialogAliasesCopyAliasReplaceDatapointsAdd"><i class="material-icons left">add_circle_outline</i><span class="translate">Add Replacement</span></a>
					</div>
				</div>
				<div class="row">
					<div class="col s12">
						<ul id="dialogAliasesCopyAliasReplaceDatapointsList" class="collection" style="overflow: visible;"></ul>
					</div>
				</div>
            </div>
            <div class="modal-footer">
                <a class="modal-action modal-close waves-effect waves-green btn btn-set"><i class="large material-icons left">check</i><span class="translate">Copy this alias</span></a>
                <a class="modal-action modal-close waves-effect waves-green btn btn-close"><i class="large material-icons left">close</i><span class="translate">Cancel</span></a>
            </div>
        </div>
	</div>
</body>
</html>